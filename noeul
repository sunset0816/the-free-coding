import streamlit as st
import pandas as pd

# ì›¹í˜ì´ì§€ êµ¬í˜„
st.set_page_config(
    page_title="KNU ìˆ˜ê°•ì‹ ì²­ ë„ìš°ë¯¸",
    page_icon="ğŸ“",
    layout="centered",
    initial_sidebar_state="collapsed",
)

courses = {
    "ì»´í“¨í„°ê³µí•™": {
        1: {  # 1í•™ë…„
            1: [
                {"name": "í”„ë¡œê·¸ë˜ë° ê¸°ì´ˆ", "credits": 3, "has_lab": "ì—†ìŒ", "description": "í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì˜ ê¸°ì´ˆë¥¼ ë°°ìš°ëŠ” ê³¼ëª©"},
                {"name": "ì•Œê³ ë¦¬ì¦˜ ê¸°ì´ˆ", "credits": 3, "has_lab": "ì—†ìŒ", "description": "ê¸°ë³¸ì ì¸ ì•Œê³ ë¦¬ì¦˜ê³¼ ë¬¸ì œ í•´ê²° ë°©ë²•ì„ í•™ìŠµí•˜ëŠ” ê³¼ëª©"}
            ],
            2: [
                {"name": "ê¸°ì´ˆ ìˆ˜í•™", "credits": 3, "has_lab": "ì—†ìŒ", "description": "ìˆ˜í•™ì  ê¸°ì´ˆë¥¼ ë‹¤ì§€ëŠ” ê³¼ëª©"},
                {"name": "ì»´í“¨í„° ê°œë¡ ", "credits": 2, "has_lab": "ì—†ìŒ", "description": "ì»´í“¨í„° ê³¼í•™ì˜ ê¸°ë³¸ ì´ë¡ ì„ ë°°ìš°ëŠ” ê³¼ëª©"}
            ]
        },
        2: {  # 2í•™ë…„
            1: [
                {"name": "ìë£Œêµ¬ì¡°", "credits": 3, "has_lab": "ì—†ìŒ", "description": "íš¨ìœ¨ì ì¸ ë°ì´í„° ì €ì¥ê³¼ ì²˜ë¦¬ ë°©ë²•ì„ ë‹¤ë£¨ëŠ” ê³¼ëª©"},
                {"name": "ìš´ì˜ì²´ì œ ê¸°ì´ˆ", "credits": 3, "has_lab": "ì—†ìŒ", "description": "ìš´ì˜ì²´ì œì˜ ê¸°ë³¸ ê°œë…ê³¼ ì›ë¦¬ë¥¼ ë°°ìš°ëŠ” ê³¼ëª©"}
            ],
            2: [
                {"name": "ì›¹ ê°œë°œ", "credits": 3, "has_lab": "ìˆìŒ", "description": "ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œ ê¸°ìˆ ì„ ë°°ìš°ëŠ” ê³¼ëª©"},
                {"name": "ìˆ˜í•™ì  ëª¨ë¸ë§", "credits": 3, "has_lab": "ì—†ìŒ", "description": "ìˆ˜í•™ì  ê°œë…ì„ ì´ìš©í•œ ë¬¸ì œ í•´ê²° ë°©ë²•ì„ í•™ìŠµí•˜ëŠ” ê³¼ëª©"}
            ]
        },
        3: {  # 3í•™ë…„
            1: [
                {"name": "ì»´í“¨í„° ë„¤íŠ¸ì›Œí¬", "credits": 3, "has_lab": "ìˆìŒ", "description": "ì»´í“¨í„° ê°„ì˜ í†µì‹  ì›ë¦¬ì™€ ê¸°ìˆ ì„ ë°°ìš°ëŠ” ê³¼ëª©"},
                {"name": "ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œ", "credits": 3, "has_lab": "ì—†ìŒ", "description": "ë°ì´í„°ë² ì´ìŠ¤ì˜ ì„¤ê³„ì™€ ê´€ë¦¬ ë°©ë²•ì„ ë°°ìš°ëŠ” ê³¼ëª©"}
            ],
            2: [
                {"name": "ì¸ê³µì§€ëŠ¥", "credits": 3, "has_lab": "ìˆìŒ", "description": "ê¸°ê³„ í•™ìŠµê³¼ ì¸ê³µì§€ëŠ¥ ì•Œê³ ë¦¬ì¦˜ì„ ë°°ìš°ëŠ” ê³¼ëª©"},
                {"name": "ì†Œí”„íŠ¸ì›¨ì–´ ê³µí•™", "credits": 3, "has_lab": "ì—†ìŒ", "description": "ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ë° ê´€ë¦¬ ë°©ë²•ë¡ ì„ í•™ìŠµí•˜ëŠ” ê³¼ëª©"}
            ]
        },
        4: {  # 4í•™ë…„
            1: [
                {"name": "ì¡¸ì—… í”„ë¡œì íŠ¸", "credits": 3, "has_lab": "ìˆìŒ", "description": "í•™ìƒì´ ì§ì ‘ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©° ì‹¤ë ¥ì„ ìŒ“ëŠ” ê³¼ëª©"},
                {"name": "ê³ ê¸‰ ì•Œê³ ë¦¬ì¦˜", "credits": 3, "has_lab": "ì—†ìŒ", "description": "ê³ ê¸‰ ì•Œê³ ë¦¬ì¦˜ê³¼ ë¬¸ì œ í•´ê²° ê¸°ìˆ ì„ ë°°ìš°ëŠ” ê³¼ëª©"}
            ],
            2: [
                {"name": "ìº¡ìŠ¤í†¤ ë””ìì¸", "credits": 3, "has_lab": "ìˆìŒ", "description": "ì‹¤ì œ ì‚°ì—… ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” í”„ë¡œì íŠ¸ ê¸°ë°˜ ê³¼ëª©"},
                {"name": "ì‚°ì—…ì²´ ì‹¤ìŠµ", "credits": 2, "has_lab": "ìˆìŒ", "description": "ì‚°ì—…ì²´ì—ì„œ ì‹¤ë¬´ ê²½í—˜ì„ ìŒ“ëŠ” ê³¼ëª©"}
            ]
        }
    },
    "ì „ê¸°ì „ìê³µí•™": {
        1: {  # 1í•™ë…„
            1: [
                {"name": "íšŒë¡œì´ë¡ ", "credits": 3, "has_lab": "ìˆìŒ", "description": "íšŒë¡œì˜ ê¸°ë³¸ ì›ë¦¬ì™€ í•´ì„ ë°©ë²•ì„ ë°°ìš°ëŠ” ê³¼ëª©"},
                {"name": "ê¸°ì´ˆ ì „ìíšŒë¡œ", "credits": 3, "has_lab": "ìˆìŒ", "description": "ê¸°ì´ˆì ì¸ ì „ìíšŒë¡œ ì„¤ê³„ì™€ ë¶„ì„ì„ ë°°ìš°ëŠ” ê³¼ëª©"}
            ],
            2: [
                {"name": "ì „ê¸°ê¸°ê¸°", "credits": 3, "has_lab": "ìˆìŒ", "description": "ì „ê¸°ê¸°ê¸°ì˜ ë™ì‘ ì›ë¦¬ì™€ íŠ¹ì„±ì„ ë°°ìš°ëŠ” ê³¼ëª©"},
                {"name": "ê¸°ì´ˆ ë¬¼ë¦¬í•™", "credits": 3, "has_lab": "ì—†ìŒ", "description": "ë¬¼ë¦¬í•™ì˜ ê¸°ì´ˆ ì´ë¡ ì„ ë°°ìš°ëŠ” ê³¼ëª©"}
            ]
        },
        2: {  # 2í•™ë…„
            1: [
                {"name": "ì „ìê¸°í•™", "credits": 3, "has_lab": "ì—†ìŒ", "description": "ì „ìê¸°í•™ì˜ ê¸°ë³¸ ì›ë¦¬ì™€ ì‘ìš©ì„ ë°°ìš°ëŠ” ê³¼ëª©"},
                {"name": "ì‹ í˜¸ ë° ì‹œìŠ¤í…œ", "credits": 3, "has_lab": "ì—†ìŒ", "description": "ì‹ í˜¸ ì²˜ë¦¬ ë° ì‹œìŠ¤í…œì˜ ë¶„ì„ ë°©ë²•ì„ ë°°ìš°ëŠ” ê³¼ëª©"}
            ],
            2: [
                {"name": "ë””ì§€í„¸ íšŒë¡œ", "credits": 3, "has_lab": "ìˆìŒ", "description": "ë””ì§€í„¸ íšŒë¡œ ì„¤ê³„ ë° ë¶„ì„ì„ ë°°ìš°ëŠ” ê³¼ëª©"},
                {"name": "í™•ë¥  ë° í†µê³„", "credits": 3, "has_lab": "ì—†ìŒ", "description": "í™•ë¥ ê³¼ í†µê³„ ì´ë¡ ì„ í™œìš©í•œ ë¬¸ì œ í•´ê²° ê³¼ëª©"}
            ]
        },
        3: {  # 3í•™ë…„
            1: [
                {"name": "ì œì–´ ì‹œìŠ¤í…œ", "credits": 3, "has_lab": "ìˆìŒ", "description": "ìë™ ì œì–´ ì‹œìŠ¤í…œì˜ ì›ë¦¬ì™€ ì„¤ê³„ë¥¼ ë°°ìš°ëŠ” ê³¼ëª©"},
                {"name": "ë°˜ë„ì²´ ì†Œì", "credits": 3, "has_lab": "ìˆìŒ", "description": "ë°˜ë„ì²´ ì†Œìì˜ ì›ë¦¬ì™€ ì‘ìš©ì„ ë°°ìš°ëŠ” ê³¼ëª©"}
            ],
            2: [
                {"name": "ì „ë ¥ ì‹œìŠ¤í…œ", "credits": 3, "has_lab": "ì—†ìŒ", "description": "ì „ë ¥ ì‹œìŠ¤í…œì˜ ì„¤ê³„ ë° ìš´ìš© ì›ë¦¬ë¥¼ ë°°ìš°ëŠ” ê³¼ëª©"},
                {"name": "ë””ì§€í„¸ ì‹ í˜¸ ì²˜ë¦¬", "credits": 3, "has_lab": "ìˆìŒ", "description": "ë””ì§€í„¸ ì‹ í˜¸ì˜ ì²˜ë¦¬ ë°©ë²•ì„ ë°°ìš°ëŠ” ê³¼ëª©"}
            ]
        },
        4: {  # 4í•™ë…„
            1: [
                {"name": "ê³ ê¸‰ ì œì–´ ì‹œìŠ¤í…œ", "credits": 3, "has_lab": "ì—†ìŒ", "description": "ê³ ê¸‰ ì œì–´ ì´ë¡ ê³¼ ì‘ìš©ì„ ë°°ìš°ëŠ” ê³¼ëª©"},
                {"name": "ì‚°ì—… ìë™í™”", "credits": 3, "has_lab": "ìˆìŒ", "description": "ì‚°ì—… ìë™í™” ì‹œìŠ¤í…œì˜ ì„¤ê³„ ë° êµ¬í˜„ì„ ë°°ìš°ëŠ” ê³¼ëª©"}
            ],
            2: [
                {"name": "ì „ê¸°ì„¤ë¹„", "credits": 3, "has_lab": "ìˆìŒ", "description": "ì „ê¸°ì„¤ë¹„ì˜ ì„¤ê³„ ë° ì„¤ì¹˜ ë°©ë²•ì„ ë°°ìš°ëŠ” ê³¼ëª©"},
                {"name": "ì¡¸ì—… ë…¼ë¬¸", "credits": 3, "has_lab": "ì—†ìŒ", "description": "ì¡¸ì—…ì„ ìœ„í•œ ì—°êµ¬ ë° ë…¼ë¬¸ ì‘ì„±ì„ ë°°ìš°ëŠ” ê³¼ëª©"}
            ]
        }
    }
}

# Streamlit ì•± ì„¤ì •
def course_selection():
    st.title("KNU ìˆ˜ê°•ì‹ ì²­ ë„ìš°ë¯¸ğŸ“")

    # í•™ê³¼ ì…ë ¥ ë°›ê¸°
    department = st.selectbox("í•™ê³¼ë¥¼ ì„ íƒí•˜ì„¸ìš”", ["ì»´í“¨í„°ê³µí•™", "ì „ê¸°ì „ìê³µí•™"], key="department_select")

    # í•™ë…„ ì…ë ¥ ë°›ê¸°
    year = st.selectbox("í•™ë…„ì„ ì„ íƒí•˜ì„¸ìš”", [1, 2, 3, 4], key="year_select")

    # í•™ê¸° ì…ë ¥ ë°›ê¸°
    semester = st.selectbox("í•™ê¸°ë¥¼ ì„ íƒí•˜ì„¸ìš”", [1, 2], key="semester_select")

    # ì„ íƒëœ ì •ë³´ë¡œ êµê³¼ëª© ì¡°íšŒí•˜ê¸°
    if st.button("ì¡°íšŒ"):
        if department in courses and year in courses[department] and semester in courses[department][year]:
            course_list = []
            for course in courses[department][year][semester]:
                course_list.append({
                    "í•™ë…„": year,
                    "í•™ê¸°": semester,
                    "ê³¼ëª© ì´ë¦„": course['name'],
                    "í•™ì ": course['credits'],
                    "ì‹¤ìŠµì—¬ë¶€": course['has_lab'],
                    "í•œì¤„ì†Œê°œ": course['description']
                })
            # Pandas DataFrameìœ¼ë¡œ ë³€í™˜ í›„ í…Œì´ë¸” í˜•ì‹ìœ¼ë¡œ ì¶œë ¥
            course_df = pd.DataFrame(course_list)
            # í…Œì´ë¸” ê°€ìš´ë° ì •ë ¬ ìŠ¤íƒ€ì¼ ì ìš©
            st.write(course_df.style.set_table_styles(
                [{'selector': 'th, td', 'props': [('text-align', 'center')]}]
            ))
        else:
            st.error("ì˜ëª»ëœ ì…ë ¥ì…ë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.")

# Streamlit ì‹¤í–‰
if __name__ == "__main__":
    course_selection()
